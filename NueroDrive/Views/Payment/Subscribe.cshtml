@model NueroDrive.Models.ViewModels.PaymentViewModel

@{
    ViewData["Title"] = "Subscribe";
}

<div class="row">
    <div class="col-md-8 offset-md-2">
        <div class="alert alert-info mb-4">
            <h5><i class="bi bi-info-circle-fill"></i> Demo Mode</h5>
            <p>This is a demonstration of the subscription feature. No actual payments will be processed.</p>
        </div>
        
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h2 class="text-center mb-0">@ViewData["Title"]</h2>
            </div>
            <div class="card-body">
                <form asp-action="Subscribe" method="post" id="payment-form">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    
                    <div class="mb-4">
                        <h4>Choose Your Subscription Plan</h4>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check subscription-option">
                                    <input class="form-check-input" type="radio" name="SubscriptionType" id="monthly" value="Monthly" checked>
                                    <label class="form-check-label" for="monthly">
                                        <div class="card border-primary">
                                            <div class="card-body text-center">
                                                <h5>Monthly Plan</h5>
                                                <h3>$2</h3>
                                                <p class="text-muted">per month</p>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check subscription-option">
                                    <input class="form-check-input" type="radio" name="SubscriptionType" id="annual" value="Annual">
                                    <label class="form-check-label" for="annual">
                                        <div class="card border-primary">
                                            <div class="card-body text-center">
                                                <h5>Annual Plan</h5>
                                                <h3>$20</h3>
                                                <p class="text-muted">per year</p>
                                                <p class="badge bg-success">Save $4</p>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <h4>Payment Information</h4>
                    <p class="text-muted mb-3">(Demo - no actual payment will be processed)</p>
                    <div class="row g-3">
                        <div class="col-12">
                            <div class="form-floating mb-3">
                                <input asp-for="NameOnCard" class="form-control" placeholder="Name on card" value="Demo User" />
                                <label asp-for="NameOnCard">Name on Card</label>
                                <span asp-validation-for="NameOnCard" class="text-danger"></span>
                            </div>
                        </div>
                        
                        <div class="col-12">
                            <div class="form-floating mb-3">
                                <input asp-for="CardNumber" class="form-control" placeholder="Card number" value="4242424242424242" />
                                <label asp-for="CardNumber">Card Number</label>
                                <span asp-validation-for="CardNumber" class="text-danger"></span>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input asp-for="ExpirationDate" class="form-control" placeholder="MM/YY" value="12/25" />
                                <label asp-for="ExpirationDate">Expiration Date (MM/YY)</label>
                                <span asp-validation-for="ExpirationDate" class="text-danger"></span>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="form-floating mb-3">
                                <input asp-for="CVV" class="form-control" placeholder="CVV" value="123" />
                                <label asp-for="CVV">CVV</label>
                                <span asp-validation-for="CVV" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                        <a asp-action="Index" class="btn btn-outline-secondary me-md-2">Cancel</a>
                        <button type="submit" class="btn btn-primary">Subscribe Now</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add selected class to the subscription option when clicked
            const subscriptionOptions = document.querySelectorAll('.subscription-option');
            subscriptionOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    radio.checked = true;
                });
            });
        });
    </script>
} 